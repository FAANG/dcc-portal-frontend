<ng-container *ngIf="setting">
  <div class="container-fluid" style="min-height:87vh">
    <app-header></app-header>
    <hr>
    <div class="row spacer" *ngIf="_userService.token">
      <div class="col-md-12">
        <div class="alert alert-info" role="alert">
          <p>
            You are logged in as {{ _userService.username }}. <br>
            Token Expires: {{ _userService.token_expires }}
          </p>
          <button (click)="_userService.refreshToken()" class="btn btn-primary">Refresh Token</button>&nbsp;
          <button (click)="logout()" class="btn btn-primary">Log Out</button>
        </div>
      </div>
    </div>
    <div class="row spacer">
      <div class="col-md-6">
        <img src="{{setting.image.url}}" alt="Project Logo"
             [ngClass]="{'small-project-logo':project==='AQUA-FAANG', 'large-project-logo':project!=='AQUA-FAANG'}">
        <h3>
          <a href="{{setting.url}}">{{setting.url}}</a>
        </h3>
      </div>
      <div class="col-md-6 text-center">
        <ng-container>
          <img src="{{ project === 'Bovine' ? right_logo_url['bovine'] : right_logo_url['other'] }}"
               alt="Funding Logo"
               [ngClass]="project!=='AQUA-FAANG' ? 'large-project-logo funding-logo' : 'small-project-logo funding-logo'">
        </ng-container>
      </div>
    </div>

    <div class="row" *ngIf="!_userService.token && project === 'BovReg'">
      <div class="col-md-4">
        <button type="button" class="btn btn-success" (click)="login()">Login to BovReg Portal</button>
      </div>
    </div>

    <ng-container *ngIf="project !== 'EuroFAANG'; else eurofaangProject">
      <div class="row spacer">
        <div class="col-md-4 scroll" *ngIf="project === 'Bovine'">
          <h5>
            {{setting.description}}
          </h5>
        </div>
        <div class="col-md-4" *ngIf="project !== 'Bovine'">
          <h5>
            {{setting.description}}
          </h5>
        </div>
        <div class="col-md-8 text-center" *ngIf="project !== 'Bovine'">
          <a class="twitter-timeline" href="https://twitter.com/{{setting.tweeter.id}}?ref_src=twsrc%5Etfw"
             data-height="300"
             data-theme="light"
             data-width="650"
             data-chrome="noborders nofooter noscrollbar transparent"
          >
            Tweets by {{setting.tweeter.id}}
          </a>
          <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
        </div>
      </div>

      <div class="project-link">
        For more information on the {{project}} project: <a href="{{project_links[project]}}" target='_blank'>
        {{project}} </a>
      </div>

      <div *ngIf="project === 'GENE-SWitCH'">
        <h3>Ensembl Rapid Release</h3>
        <ul class="list-group">
          <li class="list-group-item">
            <div class="row">
              <div class="col-md-2"><span class="badge badge-success badge-pill">Sus scrofa</span></div>
              <div class="col-md-10"><a href="https://rapid.ensembl.org/Sus_scrofa_GCA_000003025.6/Info/Index"
                                        target="_blank" class="btn btn-primary btn-sm">View data</a></div>
            </div>
          </li>
          <li class="list-group-item">
            <div class="row">
              <div class="col-md-2"><span class="badge badge-success badge-pill">Gallus gallus</span></div>
              <div class="col-md-10"><a href="https://rapid.ensembl.org/Gallus_gallus_GCA_000002315.5/Info/Index"
                                        target="_blank" class="btn btn-primary btn-sm">View data</a></div>
            </div>
          </li>
        </ul>
      </div>

      <app-related-items source_type="project" target_type="publication" download_key=""
                         [record_id]="project"></app-related-items>
      <app-related-items source_type="project" target_type="pipeline" download_key=""
                         [record_id]="project"></app-related-items>
      <app-related-items source_type="project" target_type="dataset" download_key=""
                         [record_id]="project"></app-related-items>
      <app-related-items source_type="project" target_type="file" download_key="url"
                         [record_id]="project"></app-related-items>
      <app-related-items source_type="project" target_type="organism" download_key=""
                         [record_id]="project"></app-related-items>
      <app-related-items source_type="project" target_type="specimen" download_key=""
                         [record_id]="project"></app-related-items>
      <app-custom-table-builder *ngIf="project == 'GENE-SWitCH'" [project]="project">
      </app-custom-table-builder>
    </ng-container>


    <ng-template #eurofaangProject>
      <div class="row spacer">
        <app-eurofaang-info></app-eurofaang-info>

        <div *ngFor="let keyproj of eurofaang_keyproj" class="keyproj">
          <app-related-items source_type="project" target_type="dataset" download_key=""
                             [record_id]="keyproj" [isEuroFaangProj]="true"></app-related-items>
        </div>
      </div>
    </ng-template>


  </div>
</ng-container>
