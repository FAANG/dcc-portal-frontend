<app-header></app-header>
<div class="container-fluid">
  <h2>FAANG Summary</h2>
  <hr>

  <div fxLayout="row" fxLayout.lt-md="column" fxLayoutAlign="space-between" style="margin-bottom: 20px;">
    <mat-tab-group #tabs (selectedTabChange)="tabClick($event)" style="margin-bottom: 20px;">
      <mat-tab label="Organisms"></mat-tab>
      <mat-tab label="Specimens"></mat-tab>
      <mat-tab label="Datasets"></mat-tab>
      <mat-tab label="Files"></mat-tab>
    </mat-tab-group>

    <div class="form-check">
      <input class="form-check-input" type="checkbox" id="defaultCheck1" (click)="onCheckboxClick()" checked>
      <label class="form-check-label" for="defaultCheck1">
        Show only FAANG data (exclude legacy data)
      </label>
    </div>
  </div>

  <div *ngIf="!error" fxLayout="column" fxLayoutGap="4%">
    <div fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="4%">
      <mat-card fxFlex="48" class="card">
        <h3>Sex</h3>
        <span class="subheader">Click on legend to exclude item</span>
        <hr>
        <canvas baseChart
                [data]="sexChartData"
                [labels]="sexChartLabels"
                [chartType]="'pie'"
                [options]="pieChartOptions"
                [plugins]="pieChartPlugins"
                [colors]="pieChartColors"
                [legend]="true">
        </canvas>
      </mat-card>

      <mat-card fxFlex="48" class="card">
        <h3>Paper published</h3>
        <span class="subheader">Click on legend to exclude item</span>
        <hr>
        <canvas baseChart
                [data]="paperChartData"
                [labels]="paperChartLabels"
                [chartType]="'pie'"
                [options]="pieChartOptions"
                [plugins]="pieChartPlugins"
                [colors]="pieChartColors"
                [legend]="true">
        </canvas>
      </mat-card>
    </div>
  
    <div fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="4%">
      <mat-card fxFlex="48" class="card">
        <h3>Standard</h3>
        <span class="subheader">Click on legend to exclude item</span>
        <hr>
        <canvas baseChart
                [data]="standardChartData"
                [labels]="standardChartLabels"
                [chartType]="'doughnut'"
                [colors]="pieChartColors"
                [legend]="true">
        </canvas>
      </mat-card>

      <mat-card fxFlex="48" class="card">
        <h3>Organism part/Cell type</h3>
        <span class="subheader">10 most frequent | Hover over bar to see full name</span>
        <hr>
        <canvas baseChart
                [data]="cellsChartData"
                [labels]="cellsChartLabels"
                [chartType]="'bar'"
                [options]="barChartOptions"
                [plugins]="barChartPlugins"
                [legend]="false">
        </canvas>
      </mat-card>
    </div>
  
    <div fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="4%">
      <mat-card fxFlex="48" class="card">
        <h3>Organisms</h3>
        <span class="subheader">Hover over bar to see full name</span>
        <hr>
        <canvas baseChart
                [data]="organismChartData"
                [labels]="organismChartLabels"
                [chartType]="'bar'"
                [options]="barChartOptions"
                [plugins]="barChartPlugins"
                [legend]="false">
        </canvas>
      </mat-card>
  
      <mat-card fxFlex="48" class="card">
        <h3>Materials</h3>
        <span class="subheader">Click on legend to exclude item</span>
        <hr>
        <canvas baseChart
                [data]="materialChartData"
                [labels]="materialChartLabels"
                [chartType]="'doughnut'"
                [colors]="pieChartColors"
                [legend]="true">
        </canvas>
      </mat-card>
    </div>
  
    <div fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="4%">
      <mat-card fxFlex="48" class="card">
        <div fxLayout="row" fxLayout.lt-sm="column" fxLayoutAlign="space-between" >
          <h3>Breeds of <i class="subheader">{{name}}</i></h3>
          <div class="btn-group" dropdown>
            <button mat-raised-button color="primary" id="button-basic" dropdownToggle class="dropdown-toggle"
                    aria-controls="dropdown-basic">
              Choose organism <span class="caret"></span>
            </button>
            <ul id="dropdown-basic" *dropdownMenu class="dropdown-menu"
                role="menu" aria-labelledby="button-basic">
              <li role="menuitem" *ngFor="let breed of breedKeys">
                <a class="dropdown-item" (click)="onItemClick(breed)" style="cursor: pointer">{{breed}}</a>
              </li>
            </ul>
          </div>
        </div>
        <span class="subheader">10 most frequent (when appropriate) | Hover over bar to see full name</span>
        <hr>
        <canvas baseChart
                [data]="breedChartData"
                [labels]="breedChartLabels"
                [chartType]="'bar'"
                [options]="barChartOptions"
                [plugins]="barChartPlugins"
                [legend]="false">
        </canvas>
      </mat-card>
    </div>
  </div>

  <div *ngIf="error" fxLayout="row">
    <div fxFlex="100" class="alert alert-danger"><p>{{ error }}</p></div>
  </div>

</div>
