<div class="container">
  <app-header></app-header>
  <h1 class="text-center">{{analysis?.accession}}</h1>
  <dl class="dl-horizontal">
    <dt>Analysis accession:</dt>
    <dd>
      <app-robust-link prefix="https://www.ebi.ac.uk/ena/data/view/" [link]="analysis?.accession" [text]="analysis?.accession"></app-robust-link>
    </dd>
    <dt>Title:</dt> <dd>{{analysis?.title}}</dd>
    <div *ngIf="analysis?.alias">
      <dt>Alias:</dt> <dd>{{analysis?.alias}}</dd>
    </div>
    <div *ngIf="analysis?.type">
      <dt>Type:</dt> <dd>{{analysis?.type}}</dd>
    </div>
    <dt>Dataset accession:</dt>
    <dd>
      <app-robust-link prefix="../dataset/" [link]="analysis?.datasetAccession" [text]="analysis?.datasetAccession"></app-robust-link>
    </dd>
    <dt>Analysis type:</dt>
    <dd>
      {{analysis?.analysisType}}
    </dd>
    <div *ngIf="analysis?.standardMet">
      <dt>Standard:</dt> <dd>{{analysis?.standardMet}}</dd>
    </div>
    <div *ngIf="analysis?.analysisCenter">
      <dt>Analysis center:</dt> <dd>{{analysis?.analysisCenter}}</dd>
    </div>
    <div *ngIf="analysis?.releaseDate">
      <dt>Release date:</dt> <dd>{{analysis?.releaseDate}}</dd>
    </div>
    <div *ngIf="analysis?.updateDate">
      <dt>Update date:</dt> <dd>{{analysis?.updateDate}}</dd>
    </div>
    <div *ngIf="analysis?.organism">
      <dt>Species</dt>
      <dd>
        <app-robust-link prefix="https://www.ebi.ac.uk/ols/terms?iri=" [link]="analysis?.organism?.ontologyTerms" [text]="analysis?.organism?.text"></app-robust-link>
      </dd>
    </div>
    <div *ngIf="analysis?.sampleAccessions">
      <dt>Related Sample</dt>
      <dd>
        <app-robust-link prefix="http://www.ebi.ac.uk/biosamples/samples/" [link]="analysis?.sampleAccessions" [text]= "analysis?.sampleAccessions"></app-robust-link>
      </dd>
    </div>
    <div *ngIf="analysis?.experimentAccessions && analysis?.experimentAccessions.length > 0">
      <dt>Related Experiments</dt>
      <dd>
        <ng-container *ngFor="let exp of analysis?.experimentAccessions">
          <app-robust-link prefix="https://www.ebi.ac.uk/ena/data/view/" [link]="exp" [text]= "exp"></app-robust-link>
        </ng-container>
      </dd>
    </div>
    <div *ngIf="analysis?.runAccessions && analysis?.runAccessions.length > 0">
      <dt>Related Runs</dt>
      <dd>
        <ng-container *ngFor="let run of analysis?.runAccessions">
          <app-robust-link prefix="https://www.ebi.ac.uk/ena/data/view/" [link]="run" [text]= "run"></app-robust-link>
        </ng-container>
      </dd>
    </div>
  </dl>
  <div *ngIf="analysis?.files.length > 0">
    <hr>
    <h3>Analysis Files</h3>
    <table class="table table-striped table-hover table-responsive">
      <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Size</th>
        <th>checksum</th>
<!--         <th>
          Download
           <input type="checkbox" [checked]="checked" (click)="mainCheckboxClicked()">
        </th>
 -->       </tr>
      </thead>
      <tbody>
      <ng-container *ngFor="let file of analysis?.files | paginate: { itemsPerPage: 10, currentPage: p}">
        <tr>
          <td>
            <app-robust-link prefix="ftp://" [link]="file.url" [text]="file.name"></app-robust-link>
          </td>
          <td>{{file.type}}</td>
          <td>{{file.size}}</td>
          <td>{{file.checksum}}</td>
<!--            <td>
            <input type="checkbox" (click)="onCheckboxClick(file.url)" [checked]="CheckboxChecked(file.url)">
          </td>
 -->         </tr>
      </ng-container>
      </tbody>
    </table>


  </div>
</div>
