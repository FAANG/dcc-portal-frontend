<div *ngIf="data?.length > 0">
  <h3>Related {{entity}}</h3>
  <div class="fails-table center-block">

    <table class="table table-striped table-hover table-responsive">
      <ng-container [ngSwitch]="entity">
        <ng-template ngSwitchCase="Files">
          <thead>
          <tr>
            <th>File name</th>
            <th>Experiment</th>
            <th>Archive</th>
            <th>File size</th>
            <th>Download</th>
          </tr>
          </thead>
          <tbody>
          <ng-container *ngFor="let file of data | paginate: { itemsPerPage: 10, currentPage: p }">
            <tr>
              <td>
                <app-robust-link prefix="../file/" [link]="file?.fileId" [text]="file?.name"></app-robust-link>
              </td>
              <td>{{file?.experiment}}</td>
              <td>{{file?.archive}}</td>
              <td>{{file?.size}} ({{file?.readableSize}})</td>
              <td><a href="ftp://{{file?.url}}"><span class="glyphicon glyphicon-download-alt" aria-hidden="true"></span></a></td>
            </tr>
          </ng-container>
          </tbody>
        </ng-template>

        <ng-template ngSwitchCase="Specimens">
          <thead><tr>
            <th>BioSample ID</th><th>Material</th><th>Cell type</th><th>Sex</th><th>Species</th><th>Breed</th>
          </tr></thead>
          <tbody>
          <ng-container *ngFor="let specimen of data | paginate: { itemsPerPage: 10, currentPage: p }">
            <tr>
              <td>
                <app-robust-link prefix="../specimen/" [link]="specimen?.biosampleId" [text]="specimen?.biosampleId"></app-robust-link>
              </td>
              <td>{{specimen?.material?.text}}</td>
              <td>{{specimen?.cellType?.text}}</td>
              <td>{{specimen?.sex?.text}}</td>
              <td>{{specimen?.organism?.text}}</td>
              <td>{{specimen?.breed?.text}}</td>
            </tr>
          </ng-container>
          </tbody>
        </ng-template>
      </ng-container>
    </table>
    <pagination-controls (pageChange)="p = $event"></pagination-controls>
</div>

