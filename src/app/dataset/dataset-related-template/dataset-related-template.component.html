<div *ngIf="data?.length > 0">
  <hr>
  <h3>
    Related {{entity}}
    <button type="button" class="btn btn-success" (click)="downloadAllFiles()" [disabled]="disableButton()" *ngIf="showButton()">Download all files ({{getUrlsLength()}})</button>
  </h3>
  <div class="table-responsive">

    <table class="table table-striped table-hover table-borderless table-sm">
      <ng-container [ngSwitch]="entity">
        <ng-template ngSwitchCase="Files">
          <thead>
          <tr>
            <th>File name</th>
            <th>Experiment</th>
            <th>Archive</th>
            <th>File size</th>
            <th>
              Download
              <input type="checkbox" [checked]="checked" (click)="mainCheckboxClicked()">
            </th>
          </tr>
          </thead>
          <tbody>
          <ng-container *ngFor="let file of data | paginate: { itemsPerPage: 10, currentPage: p, id: entity }">
            <tr>
              <td>
                <app-robust-link prefix="../file/" [link]="file?.fileId" [text]="file?.name"></app-robust-link>
              </td>
              <td>{{file?.experiment}}</td>
              <td>{{file?.archive}}</td>
              <td>{{file?.size}} ({{file?.readableSize}})</td>
              <td>
                <input type="checkbox" (click)="onCheckboxClick(file.url)" [checked]="CheckboxChecked(file.url)">
              </td>
            </tr>
          </ng-container>
          </tbody>
        </ng-template>

        <ng-template ngSwitchCase="Specimens">
          <thead><tr>
            <th>BioSample ID</th><th>Material</th><th>Cell type</th><th>Sex</th><th>Species</th><th>Breed</th>
          </tr></thead>
          <tbody>
          <ng-container *ngFor="let specimen of data | paginate: { itemsPerPage: 10, currentPage: p, id: entity }">
            <tr>
              <td>
                <app-robust-link prefix="../specimen/" [link]="specimen?.biosampleId" [text]="specimen?.biosampleId"></app-robust-link>
              </td>
              <td>{{specimen?.material?.text}}</td>
              <td>{{specimen?.cellType?.text}}</td>
              <td>{{specimen?.sex?.text}}</td>
              <td>{{specimen?.organism?.text}}</td>
              <td>{{specimen?.breed?.text}}</td>
            </tr>
          </ng-container>
          </tbody>
        </ng-template>
      </ng-container>
    </table>
    <pagination-controls (pageChange)="p = $event" [id]="entity"></pagination-controls>
</div>

