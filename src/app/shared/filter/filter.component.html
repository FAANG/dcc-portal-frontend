<div class="panel panel-info">
  <div class="panel-heading">
    <h4 class="panel-title">
      {{ title }}
      <button
        type="button"
        class="btn btn-primary btn-xs pull-right"
        (click)="toggleCollapse()"
        *ngIf="aggregation?.length > filterSize">{{ isCollapsed ? '+' : '-' }}</button>
    </h4>
  </div>
  <ul class="list-group" [ngClass]="{'long-list': itemLimit > filterSize}" *ngIf="title === 'Protocol'">
    <ng-container class="list-group-item disabled" *ngFor="let aggr of aggregation; let i = index">
      <button
        class="list-group-item"
        type="button"
        (click)="onButtonClick(aggr[0], title)"
        *ngIf="i<itemLimit && aggr[0] != ''"
        [ngClass]="{'active': aggregationService.current_active_filters && aggregationService.current_active_filters.indexOf(getReverseHumanName(aggr[0]))>-1}">
        <span class="badge">{{ aggr[1] }}</span>
        {{ aggr[0] }}
      </button>
    </ng-container>
  </ul>

  <ul class="list-group" [ngClass]="{'long-list': itemLimit > filterSize}" *ngIf="title !== 'Protocol'">
    <ng-container class="list-group-item disabled" *ngFor="let aggr of aggregation; let i = index">
      <button
        class="list-group-item"
        type="button"
        (click)="onButtonClick(aggr[0], title)"
        *ngIf="i<itemLimit && aggr[0] != ''"
        [ngClass]="{'active': aggregationService.current_active_filters && aggregationService.current_active_filters.indexOf(aggr[0])>-1}">
        <span class="badge">{{ aggr[1] }}</span>
        {{ aggr[0] }}
      </button>
    </ng-container>
  </ul>
</div>
