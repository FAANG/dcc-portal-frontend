<app-header></app-header>
<div class="container-fluid">
  <h2>FAANG Summary
    <button type="button" class="btn btn-info" aria-label="Left Align" [ngClass]="'active'"
            [routerLink]="['/summary', 'organisms']">
      Organisms
      <i class="material-icons float-right">home</i>
    </button>

    <button type="button" class="btn btn-info" aria-label="Left Align" [routerLink]="['/summary', 'specimens']">
      Specimens
      <i class="material-icons float-right">menu</i>
    </button>

    <button type="button" class="btn btn-info" aria-label="Left Align" [routerLink]="['/summary', 'datasets']">
      Datasets
      <i class="material-icons float-right">menu</i>
    </button>

    <button type="button" class="btn btn-info" aria-label="Left Align" [routerLink]="['/summary', 'files']">
      Files
      <i class="material-icons float-right">menu</i>
    </button>
  </h2>

  <div class="form-check">
    <input class="form-check-input" type="checkbox" id="defaultCheck1" (click)="onCheckboxClick()" checked>
    <label class="form-check-label" for="defaultCheck1">
      Show only FAANG data (exclude legacy data)
    </label>
  </div>

  <div class="row" *ngIf="!error">
    <div class="col-md-6">
      <h3>Sex</h3>
      <p class="subheader">click on legend to exclude item</p>
      <div>
        <div>
          <div style="display: block">
            <canvas baseChart
                    [data]="sexChartData"
                    [labels]="sexChartLabels"
                    [chartType]="'pie'"
                    [options]="pieChartOptions"
                    [plugins]="pieChartPlugins"
                    [colors]="pieChartColors"
                    [legend]="true">
            </canvas>
          </div>
        </div>
      </div>
    </div>

    <div class="col-md-6">
      <h3>Paper published</h3>
      <p class="subheader">click on legend to exclude item</p>
      <div>
        <div>
          <div style="display: block">
            <canvas baseChart
                    [data]="paperChartData"
                    [labels]="paperChartLabels"
                    [chartType]="'pie'"
                    [options]="pieChartOptions"
                    [plugins]="pieChartPlugins"
                    [colors]="pieChartColors"
                    [legend]="true">
            </canvas>
          </div>
        </div>
      </div>
    </div>
  </div>

  <hr>

  <div class="row" *ngIf="!error">
    <div class="col-md-6">
      <h3>Organisms</h3>
      <p class="subheader">hover over bar to see full name</p>
      <div>
        <div>
          <div style="display: block">
            <canvas baseChart
                    [data]="organismChartData"
                    [labels]="organismChartLabels"
                    [chartType]="'bar'"
                    [options]="barChartOptions"
                    [plugins]="barChartPlugins"
                    [legend]="false">
            </canvas>
          </div>
        </div>
      </div>
    </div>

    <div class="col-md-6">
      <h3>Standard</h3>
      <p class="subheader">click on legend to exclude item</p>
      <div>
        <div>
          <div style="display: block">
            <canvas baseChart
                    [data]="standardChartData"
                    [labels]="standardChartLabels"
                    [chartType]="'doughnut'"
                    [colors]="pieChartColors"
                    [legend]="true">
            </canvas>
          </div>
        </div>
      </div>
    </div>
  </div>

  <hr>

  <div class="row" *ngIf="!error">
    <div class="col-md-6">
      <h3>Breeds of <i class="subheader">{{name}}</i></h3>
      <p class="subheader">hover over bar to see full name</p>
      <div class="btn-group" dropdown>
        <button id="button-basic" dropdownToggle type="button" class="btn btn-info dropdown-toggle"
                aria-controls="dropdown-basic">
          Choose organism <span class="caret"></span>
        </button>
        <ul id="dropdown-basic" *dropdownMenu class="dropdown-menu"
            role="menu" aria-labelledby="button-basic">
          <li role="menuitem" *ngFor="let breed of breedKeys">
            <a class="dropdown-item" (click)="onItemClick(breed)" style="cursor: pointer">{{breed}}</a>
          </li>
        </ul>
      </div>
      <div>
        <div>
          <div style="display: block">
            <canvas baseChart
                    [data]="breedChartData"
                    [labels]="breedChartLabels"
                    [chartType]="'bar'"
                    [options]="barChartOptions"
                    [plugins]="barChartPlugins"
                    [legend]="false">
            </canvas>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row" *ngIf="error">
    <div class="col-md-12">
      <div class="alert alert-danger" *ngIf="error"><p>{{ error }}</p></div>
    </div>
  </div>

</div>
